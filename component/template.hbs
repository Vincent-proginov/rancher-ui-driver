<section class="horizontal-form">
  <div class="container-fluid">

    {{!-- This line shows the driver title which you don't have to change it --}}
    <div class="over-hr"><span>{{driverOptionsTitle}}</span></div>


    {{#accordion-list showExpandAll=false as | al expandFn | }}
    {{#accordion-list-item
    title="1. Account Access"
    detail="Configure connection to Xen Orchestra"
    expandOnInit=true
    expand=(action expandFn)
    }}

    <div class="row">
      <div class="col span-12">
        <label class="acc-label">Xen Orchestra URL
          <span class="field-required ember-view">*</span>
        </label>
        {{input type="text"
        class="form-control"
        value=model.%%DRIVERNAME%%Config.xoUrl
        placeholder="https://xo.example.com"
        }}
        <p class="help-block">Xen Orchestra address (including protocol, e.g. https://)</p>
      </div>

    </div>

    <div class="row">
      <div class="col span-6">
        <label class="acc-label">Username
          <span class="field-required ember-view">*</span>
        </label>
        {{input
        type="text"
        class="form-control"
        value=model.%%DRIVERNAME%%Config.xoUsername
        }}
      </div>
      <div class="col span-6">
        <label class="acc-label">Password
          <span class="field-required ember-view">*</span>
        </label>
        {{input
        type="password"
        class="form-control"
        value=model.%%DRIVERNAME%%Config.xoPassword
        }}
      </div>
    </div>

    <div class="col-md-2">
      <div class="checkbox">
        <label class="acc-label">{{input type="checkbox" checked=model.%%DRIVERNAME%%Config.xoInsecure}}
          Allow insecure communication (Skip TLS verification)
        </label>
      </div>
    </div>

    {{/accordion-list-item}}

    {{#accordion-list-item
    title="2. Instance"
    detail="Choose the size and OS of the virtual machine"
    expandOnInit=true
    expand=(action expandFn)
    }}

    <div class="row">
      <div class="col span-6">
        <label class="acc-label">CPUs</label>
        <div class="input-group">
          {{input-integer
          min=1
          max=32
          value=model.%%DRIVERNAME%%Config.xoVmCpus
          classNames="form-control"
          }}
          <div class="input-group-addon bg-default">
            {{t "nodeDriver.harvester.cpuCount.unit" cores=config.xoVmCpus}}
          </div>
        </div>
      </div>
      <div class="col span-6">
        <label class="acc-label">Memory</label>
        <div class="input-group">
          {{input-integer
          min=1
          value=model.%%DRIVERNAME%%Config.xoVmMem
          classNames="form-control"
          }}
          <div class="input-group-addon bg-default">MB</div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col span-6">
        <label class="acc-label">
          Template Name{{field-required}}
        </label>
        {{input type="text"
        class="form-control"
        value=model.%%DRIVERNAME%%Config.xoTemplate
        }}
        <p class="help-block">The name of the template to clone</p>
      </div>
      <div class="col span-6">
        <label class="acc-label">Network</label>
        {{input type="text"
        class="form-control"
        value=model.%%DRIVERNAME%%Config.xoVmNetwork
        }}
        <p class="help-block">Network name or UUID to attach to</p>
      </div>
    </div>

    <div class="row">
      <label class="acc-label">Cloud Config YAML</label>
      {{input-yaml
      showDownload=false
      showUpload=false
      canChangeName=false
      gutters=(array)
      minHeight=500
      value=model.%%DRIVERNAME%%Config.xoCloudConfig
      }}
    </div>

    {{/accordion-list-item}}
    {{/accordion-list}}

    {{!-- This following contains the Name, Labels and Engine Options fields --}}
    <div class="over-hr">
      <span>
        {{templateOptionsTitle}}
      </span>
    </div>

    {{form-name-description
    model=model
    nameRequired=true
    rowClass="row mb-10"
    }}

    {{form-user-labels
    initialLabels=labelResource.labels
    setLabels=(action 'setLabels')
    expand=(action expandFn)
    }}

    {{form-node-taints
    model=model
    expand=(action expandFn)
    }}

    {{form-engine-opts
    machine=model
    showEngineUrl=showEngineUrl
    }}

    {{!-- This component shows errors produced by validate() in the component --}}
    {{top-errors errors=errors}}

    {{!-- This component shows the Create and Cancel buttons --}}
    {{save-cancel save="save" cancel=(action "cancel")}}
  </div>
</section>
